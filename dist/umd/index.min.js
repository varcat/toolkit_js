!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).toolkit={})}(this,(function(t){"use strict";function n(t){let{fullName:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const e=Object.prototype.toString.call(t);return n?e:e.replace(/\[\w+ (\w+)]/,"$1")}function e(t){return"Number"===n(t)}function r(t){return e(t)&&isFinite(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER}function o(t){var n;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof t&&(t=t.replace(/[^-0-9.]/g,""));const i=e(t)?t:Number(t);return r(i)?i:null!==(n=o.defaultValue)&&void 0!==n?n:0}function i(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const u=[...e,...r];return u.length>=t.length?t(...u):i(t,...u)}}function u(t){return null!=t}function c(t){return!u(t)}function f(t,n){var e,r,o;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const u=null!==(e=i.maxWait)&&void 0!==e?e:n,f=null!==(r=i.leading)&&void 0!==r&&r,a=null===(o=i.trailing)||void 0===o||o;let l,s=null;function p(){l=null,s=null}function y(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];clearTimeout(l);const i=Date.now();c(s)&&(f&&t(...r),s=i),i-s>=u&&0!==u?(s=i,t(...r)):l=setTimeout((()=>{p(),a&&t(...r)}),n)}return y}function a(t){return!u(t)||"function"!=typeof t&&!e(t)&&("string"==typeof t?0===t.trim().length:Array.isArray(t)?0===t.length:t instanceof Set||t instanceof Map?0===t.size:t instanceof FormData?null===(r=t.keys().next().done)||void 0===r||r:"Object"===n(t)&&0===Object.keys(t).length);var r}function l(t,n,e){return a(n)||c(t)?null!=e?e:t:("string"==typeof n&&(n=function(t){const n=[],e=[],r=[];let o="";const i=t=>{a(o)&&!0!==t||(/^\d+$/.test(o)?n.push(parseInt(o)):n.push(o)),o=""};for(let n of t)if(["'",'"'].includes(n)){if((u=r)[u.length-1]===n){r.pop(),i(!0);continue}i(),r.push(n)}else if("["===n&&a(r))i(),e.push(n);else if("]"===n&&a(r)){if(c(e.pop()))throw new SyntaxError("Unexpected token ']'");i()}else"."===n&&a(e)&&a(r)?i():o+=n;var u;if(i(),!a(e))throw new SyntaxError("括号数量不匹配");if(!a(r))throw new SyntaxError("引号数量不匹配");return n}(n)),n.reduce(((t,n)=>c(t)?e:t[n]),t))}function s(t,n){return t.x*n.y-n.x*t.y>0?1:-1}function p(t){const n=Math.abs(t.x),e=Math.abs(t.y);return Math.sqrt(n*n+e*e)}function y(t,n){const e=s(t,n),r=p(t)*p(n);let o,i;if(0===r)return 0;o=t.x*n.x+t.y*n.y,i=o/r,i>1&&(i=1),i<-1&&(i=-1);const u=Math.acos(i)*e*180/Math.PI;return 0===u?0:u}const h=t=>u(t)&&"function"==typeof t[Symbol.iterator];function g(t,n){return{x:t.x+n.x,y:t.y+n.y}}function b(t,n){return{x:t.x-n.x,y:t.y-n.y}}const d=i(((t,n)=>l(n,t)));var v;!function(t){t[t.unknown=0]="unknown",t[t.int=1]="int",t[t.float=2]="float",t[t.floatZeroDecimal=3]="floatZeroDecimal",t[t.zero=4]="zero",t[t.zeroDot=5]="zeroDot",t[t.floatDot=6]="floatDot"}(v||(v={}));const m={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0},w={"-":!0,"+":!0,".":!0};var x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},j={exports:{}},S=function(t){return t&&t.Math==Math&&t},O=S("object"==typeof globalThis&&globalThis)||S("object"==typeof window&&window)||S("object"==typeof self&&self)||S("object"==typeof x&&x)||function(){return this}()||Function("return this")(),A=function(t){try{return!!t()}catch(t){return!0}},D=!A((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),P=D,E=Function.prototype,T=E.apply,M=E.call,N="object"==typeof Reflect&&Reflect.apply||(P?M.bind(T):function(){return M.apply(T,arguments)}),k=D,z=Function.prototype,I=z.bind,_=z.call,L=k&&I.bind(_,_),F=k?function(t){return t&&L(t)}:function(t){return t&&function(){return _.apply(t,arguments)}},R=function(t){return"function"==typeof t},C={},Z=!A((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),V=D,B=Function.prototype.call,G=V?B.bind(B):function(){return B.apply(B,arguments)},$={},q={}.propertyIsEnumerable,W=Object.getOwnPropertyDescriptor,J=W&&!q.call({1:2},1);$.f=J?function(t){var n=W(this,t);return!!n&&n.enumerable}:q;var U,X,Y=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},H=F,K=H({}.toString),Q=H("".slice),tt=F,nt=A,et=function(t){return Q(K(t),8,-1)},rt=O.Object,ot=tt("".split),it=nt((function(){return!rt("z").propertyIsEnumerable(0)}))?function(t){return"String"==et(t)?ot(t,""):rt(t)}:rt,ut=O.TypeError,ct=function(t){if(null==t)throw ut("Can't call method on "+t);return t},ft=it,at=ct,lt=R,st=function(t){return"object"==typeof t?null!==t:lt(t)},pt={},yt=pt,ht=O,gt=R,bt=function(t){return gt(t)?t:void 0},dt=function(t,n){return arguments.length<2?bt(yt[t])||bt(ht[t]):yt[t]&&yt[t][n]||ht[t]&&ht[t][n]},vt=F({}.isPrototypeOf),mt=O,wt=dt("navigator","userAgent")||"",xt=mt.process,jt=mt.Deno,St=xt&&xt.versions||jt&&jt.version,Ot=St&&St.v8;Ot&&(X=(U=Ot.split("."))[0]>0&&U[0]<4?1:+(U[0]+U[1])),!X&&wt&&(!(U=wt.match(/Edge\/(\d+)/))||U[1]>=74)&&(U=wt.match(/Chrome\/(\d+)/))&&(X=+U[1]);var At=X,Dt=A,Pt=!!Object.getOwnPropertySymbols&&!Dt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&At&&At<41})),Et=Pt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Tt=dt,Mt=R,Nt=vt,kt=Et,zt=O.Object,It=kt?function(t){return"symbol"==typeof t}:function(t){var n=Tt("Symbol");return Mt(n)&&Nt(n.prototype,zt(t))},_t=O.String,Lt=R,Ft=function(t){try{return _t(t)}catch(t){return"Object"}},Rt=O.TypeError,Ct=function(t){if(Lt(t))return t;throw Rt(Ft(t)+" is not a function")},Zt=Ct,Vt=G,Bt=R,Gt=st,$t=O.TypeError,qt={exports:{}},Wt=O,Jt=Object.defineProperty,Ut=function(t,n){try{Jt(Wt,t,{value:n,configurable:!0,writable:!0})}catch(e){Wt[t]=n}return n},Xt="__core-js_shared__",Yt=O[Xt]||Ut(Xt,{});(qt.exports=function(t,n){return Yt[t]||(Yt[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Ht=ct,Kt=O.Object,Qt=function(t){return Kt(Ht(t))},tn=F({}.hasOwnProperty),nn=Object.hasOwn||function(t,n){return tn(Qt(t),n)},en=F,rn=0,on=Math.random(),un=en(1..toString),cn=O,fn=qt.exports,an=nn,ln=function(t){return"Symbol("+(void 0===t?"":t)+")_"+un(++rn+on,36)},sn=Pt,pn=Et,yn=fn("wks"),hn=cn.Symbol,gn=hn&&hn.for,bn=pn?hn:hn&&hn.withoutSetter||ln,dn=G,vn=st,mn=It,wn=function(t,n){var e=t[n];return null==e?void 0:Zt(e)},xn=function(t,n){var e,r;if("string"===n&&Bt(e=t.toString)&&!Gt(r=Vt(e,t)))return r;if(Bt(e=t.valueOf)&&!Gt(r=Vt(e,t)))return r;if("string"!==n&&Bt(e=t.toString)&&!Gt(r=Vt(e,t)))return r;throw $t("Can't convert object to primitive value")},jn=function(t){if(!an(yn,t)||!sn&&"string"!=typeof yn[t]){var n="Symbol."+t;sn&&an(hn,t)?yn[t]=hn[t]:yn[t]=pn&&gn?gn(n):bn(n)}return yn[t]},Sn=O.TypeError,On=jn("toPrimitive"),An=function(t,n){if(!vn(t)||mn(t))return t;var e,r=wn(t,On);if(r){if(void 0===n&&(n="default"),e=dn(r,t,n),!vn(e)||mn(e))return e;throw Sn("Can't convert object to primitive value")}return void 0===n&&(n="number"),xn(t,n)},Dn=It,Pn=function(t){var n=An(t,"string");return Dn(n)?n:n+""},En=st,Tn=O.document,Mn=En(Tn)&&En(Tn.createElement),Nn=function(t){return Mn?Tn.createElement(t):{}},kn=!Z&&!A((function(){return 7!=Object.defineProperty(Nn("div"),"a",{get:function(){return 7}}).a})),zn=Z,In=G,_n=$,Ln=Y,Fn=function(t){return ft(at(t))},Rn=Pn,Cn=nn,Zn=kn,Vn=Object.getOwnPropertyDescriptor;C.f=zn?Vn:function(t,n){if(t=Fn(t),n=Rn(n),Zn)try{return Vn(t,n)}catch(t){}if(Cn(t,n))return Ln(!In(_n.f,t,n),t[n])};var Bn=A,Gn=R,$n=/#|\.prototype\./,qn=function(t,n){var e=Jn[Wn(t)];return e==Xn||e!=Un&&(Gn(n)?Bn(n):!!n)},Wn=qn.normalize=function(t){return String(t).replace($n,".").toLowerCase()},Jn=qn.data={},Un=qn.NATIVE="N",Xn=qn.POLYFILL="P",Yn=qn,Hn=Ct,Kn=D,Qn=F(F.bind),te={},ne=Z&&A((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),ee=O,re=st,oe=ee.String,ie=ee.TypeError,ue=Z,ce=kn,fe=ne,ae=function(t){if(re(t))return t;throw ie(oe(t)+" is not an object")},le=Pn,se=O.TypeError,pe=Object.defineProperty,ye=Object.getOwnPropertyDescriptor,he="enumerable",ge="configurable",be="writable";te.f=ue?fe?function(t,n,e){if(ae(t),n=le(n),ae(e),"function"==typeof t&&"prototype"===n&&"value"in e&&be in e&&!e.writable){var r=ye(t,n);r&&r.writable&&(t[n]=e.value,e={configurable:ge in e?e.configurable:r.configurable,enumerable:he in e?e.enumerable:r.enumerable,writable:!1})}return pe(t,n,e)}:pe:function(t,n,e){if(ae(t),n=le(n),ae(e),ce)try{return pe(t,n,e)}catch(t){}if("get"in e||"set"in e)throw se("Accessors not supported");return"value"in e&&(t[n]=e.value),t};var de=te,ve=Y,me=Z?function(t,n,e){return de.f(t,n,ve(1,e))}:function(t,n,e){return t[n]=e,t},we=O,xe=N,je=F,Se=R,Oe=C.f,Ae=Yn,De=pt,Pe=function(t,n){return Hn(t),void 0===n?t:Kn?Qn(t,n):function(){return t.apply(n,arguments)}},Ee=me,Te=nn,Me=function(t){var n=function(e,r,o){if(this instanceof n){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,o)}return xe(t,this,arguments)};return n.prototype=t.prototype,n},Ne=function(t,n){var e,r,o,i,u,c,f,a,l=t.target,s=t.global,p=t.stat,y=t.proto,h=s?we:p?we[l]:(we[l]||{}).prototype,g=s?De:De[l]||Ee(De,l,{})[l],b=g.prototype;for(o in n)e=!Ae(s?o:l+(p?".":"#")+o,t.forced)&&h&&Te(h,o),u=g[o],e&&(c=t.noTargetGet?(a=Oe(h,o))&&a.value:h[o]),i=e&&c?c:n[o],e&&typeof u==typeof i||(f=t.bind&&e?Pe(i,we):t.wrap&&e?Me(i):y&&Se(i)?je(i):i,(t.sham||i&&i.sham||u&&u.sham)&&Ee(f,"sham",!0),Ee(g,o,f),y&&(Te(De,r=l+"Prototype")||Ee(De,r,{}),Ee(De[r],o,i),t.real&&b&&!b[o]&&Ee(b,o,i)))},ke=Z,ze=te.f;Ne({target:"Object",stat:!0,forced:Object.defineProperty!==ze,sham:!ke},{defineProperty:ze});var Ie=pt.Object,_e=j.exports=function(t,n,e){return Ie.defineProperty(t,n,e)};Ie.defineProperty.sham&&(_e.sham=!0);var Le=j.exports;function Fe(t,n,e){return n in t?Le(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}class Re{constructor(t,n){if(Fe(this,"x",void 0),Fe(this,"y",void 0),!t||!n)return this.x=0,void(this.y=0);const{x:e,y:r}=b(t,n);this.x=e,this.y=r}static of(t){const n=new Re;return n.x=t.x,n.y=t.y,n}getLength(){return p(this)}getAngle(t){return y(this,t)}getDirection(t){return s(this,t)}getScale(t){return t.getLength()/this.getLength()}}t.LinkedList=class{},t.Point=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=t,this.y=n}sub(t){const{x:n,y:e}=b(this,t);return this.x=n,this.y=e,this}add(t){const{x:n,y:e}=g(this,t);return this.x=n,this.y=e,this}toVector(t){return t?new Re(this,t):Re.of(this)}},t.Ring=class{},t.Vector=Re,t.addition=function(){let t=0;function n(e){for(let r=0;r<e.length;r+=1)"number"==typeof e[r]?t+=e[r]:"string"==typeof e[r]?t+=o(e[r]):Array.isArray(e[r])&&n(e[r])}for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n(r),t},t.and=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];for(let t of n){if("function"==typeof t)return t();if(!Boolean(t))return!1}return!0},t.awaitToJs=function(t,n){return t.then((t=>[null,t])).catch((t=>{if(n){return[Object.assign({},t,n),void 0]}return[t,void 0]}))},t.concatMap=function(t){const n=[];for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];for(let e of r)if(Array.isArray(e))for(let r of e)n.push(t(r));else n.push(t(e));return n},t.currying=i,t.debounce=function(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return f(t,n,{leading:e.leading,trailing:e.trailing,maxWait:0})},t.get=l,t.getMovingDirection=function(t,n){return{x:t.x>n.x?-1:t.x===n.x?0:1,y:t.y>n.y?-1:t.y===n.y?0:1}},t.getRotateAngle=y,t.getRotateDirection=s,t.getVectorLength=p,t.identity=function(t){return t},t.isEmpty=a,t.isExist=u,t.isIterable=h,t.isNumber=e,t.isSafeNumber=r,t.iterative=function(t){return function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];if(h(n)){const e=[];for(let o of n)e.push(t(o,...r));return e}return t(n,...r)}},t.matrixTo=function(t){const n=t.replace("matrix(","").replace(")","").split(",").map((t=>Number(t))),e=n[0],r=n[1]/e,o=180*Math.atan(r)/Math.PI,i=e/Math.cos(Math.PI/180*o);return{x:n[4],y:n[5],scale:i,rotate:o}},t.notExist=c,t.once=function(t){let n=!1;return function(){n||(n=!0,t(...arguments))}},t.or=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];for(const t of n)if(Boolean(t))return!0;return!1},t.pipe=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];let o=e;for(let t of n)o=[t(...o)];return o[0]}},t.pointAdd=g,t.pointSub=b,t.prop=d,t.sleep=function(t){return new Promise((n=>{setTimeout((()=>n(t)),t)}))},t.splitIntegerDecimal=function(t){var n;r(t)&&(t=t.toString());const e=[t,""];if("string"!=typeof t)return e;const o=t.match(/\.(\d+)$/),i=null!==(n=null==o?void 0:o.index)&&void 0!==n?n:-1;return t.indexOf(".")===i&&"string"==typeof(null==o?void 0:o[1])&&r(parseInt(o[1]))?(e[0]=t.substring(0,i),e[1]=t.substring(i+1,t.length),e):e},t.throttle=f,t.toArray=function(t){if(Array.isArray(t))return t;if(!u(t))return[];if(e(t)||"Boolean"===n(t))return[t];try{return Array.from(t)}catch(t){return[]}},t.toNumber=o,t.toNumberStr=function t(n){if("number"==typeof n)return String(n);if("boolean"==typeof n)return n?"1":"0";if(Array.isArray(n))return t(n.flat(1/0).join(""));if("string"!=typeof n)return a(n)?"0":"1";let e="",r="",o=v.unknown,i=-1,u=0;const c=t=>{switch(t){case"-":return void(e=e?"":"-");case"+":return void(e=e||"");case".":return o=v.floatDot,r="0.",void(i=1);case"0":return o=v.zero,void(r=t)}m[t]&&(o=v.int,r+=t)};for(let t of n)if(w[t]||m[t])if(o!==v.unknown)switch(o){case v.zero:if("0"===t)continue;"."===t?(o=v.zeroDot,i=r.length,r+=t):m[t]&&(o=v.int,r=t);continue;case v.zeroDot:"0"===t?(o=v.floatZeroDecimal,r+=t):m[t]&&(o=v.float,r+=t,u=r.length);continue;case v.int:"."===t?(o=v.floatDot,i=r.length,r+=t):m[t]&&(r+=t);continue;case v.floatDot:"0"===t?(o=v.floatZeroDecimal,r+=t):m[t]&&(o=v.float,r+=t,u=r.length);continue;case v.floatZeroDecimal:"0"===t?r+=t:m[t]&&(o=v.float,r+=t,u=r.length);continue;case v.float:m[t]&&(r+=t,"0"!==t&&(u=r.length))}else c(t);return o===v.zeroDot?e?"0":"-0":o===v.floatZeroDecimal||o===v.floatDot?"".concat(e).concat(r.slice(0,i)):o===v.float?"".concat(e).concat(r.slice(0,u)):a(r)||o===v.unknown?"".concat(e,"0"):"".concat(e).concat(r)},t.toggle=function(t){const n=t.length-1;let e=0;return function(r){const o=t[e];return e+=1,e>n&&(e=0),"function"==typeof o?o(r):o}},t.typeOf=n,t.unique=function(t,n){if(!n)return[...new Set(t)];const e=new Map,r=[];for(let o of t){const t="function"==typeof n?n(o):"object"==typeof o&&u(o)?d(n,o):o;e.get(t)||(e.set(t,!0),r.push(o))}return r},Object.defineProperty(t,"__esModule",{value:!0})}));
